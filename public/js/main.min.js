!function(){function e(e){var n=new XMLHttpRequest;n.open("GET","/api/nav.json",!0),n.onload=function(){if(n.status>=200&&n.status<400){var t=JSON.parse(n.responseText);return e(null,t)}console.log("Could not load data")},n.onerror=function(n){return console.log("Connection error"),e(n)},n.send()}function n(e,t){for(var o=0;o<t.length;o++){var i=t[o].items&&t[o].items.length>0;e+="<li>",e+='<a href="'+t[o].url+'">'+t[o].label+(i?'<i class="icon-chevron-down"></i>':"")+"</a>",i&&(e+='<ul class="sub-item">',e+=n("",t[o].items),e+="</ul>"),e+="</li>"}return e}function t(){e(function(e,t){if(e)throw e;var u=n("",t.items);document.getElementById("nav-menu").innerHTML=u,o("click","#nav-menu > li > a",a),o("click","body",i),o("click","#toggle-open",r),o("keyup","body",c),window.onresize=function(){window.innerWidth>=768&&(s(),l())}})}function o(e,n,t){for(var o=document.querySelectorAll(n),i=0;i<o.length;i++)o[i].addEventListener(e,t)}function i(e){var n=e.target;(n.classList.contains("content-wrap")||n.classList.contains("navbar")||"toggle-close"===n.id)&&(l(""),s(),u())}function c(e){27===e.keyCode&&(l(),s(),u())}function a(e){var n=e.target,t=n.parentNode;window.innerWidth>=768&&s(),t.classList.toggle("active"),l("active")}function r(e){var n=document.querySelector(".navbar");n.classList.toggle("active"),l("active")}function l(e){el=document.querySelector(".content-wrap"),"active"===e?el.classList.add("active"):el.classList.remove("active")}function s(){for(var e=document.querySelectorAll("#nav-menu > li"),n=0;n<e.length;n++)e[n].classList.remove("active")}function u(){var e=document.querySelector(".navbar");e.classList.remove("active")}t()}();